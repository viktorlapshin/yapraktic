"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const deasync_1 = require("deasync");
exports.default = (promise) => {
    let done = false;
    let result = null;
    let err = null;
    promise.then((r) => {
        result = r;
        done = true;
    }, (e) => {
        err = e;
        done = true;
    });
    deasync_1.loopWhile(() => !done);
    if (err !== null) {
        throw err;
    }
    return result;
};
